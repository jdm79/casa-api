!function(e){var t={};function n(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([function(e,t){e.exports=require("sequelize")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.models=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=a(n(0)),o=a(n(8));function a(e){return e&&e.__esModule?e:{default:e}}n(5).config();var l=[o.default],i=new u.default(process.env.DATABASE_URL,{dialect:"postgres",dialectOptions:{ssl:!1}}),f=function(e){var t=l.reduce(function(t,n){return r({},t,(u={},o=n.name,a=e.define(n.name,n.fields,n.options),o in u?Object.defineProperty(u,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):u[o]=a,u));var u,o,a},{});return l.forEach(function(e){e.relationships(t)}),t}(i);t.models=f,t.default=i},function(e,t){e.exports=require("express")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,u=n(1);var o=((r=u)&&r.__esModule?r:{default:r}).default.models.property;t.default=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fetchProperties=function(e){var t=e.transaction;return e.id,o.findAll({transaction:t}).then(function(e){return e}).catch(function(e){throw console.log({error:e}),e})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,u=n(3),o=(r=u)&&r.__esModule?r:{default:r};t.default=o.default},function(e,t){e.exports=require("dotenv")},function(e,t){e.exports=require("uuid/v4")},function(e,t){e.exports=require("lodash")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),u=a(n(7)),o=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}var l={name:"property",fields:{id:{type:r.default.UUID,defaultValue:function(){return(0,o.default)()},unique:!0,primaryKey:!0,allowNull:!1},name:{type:r.default.STRING,allowNull:!1},city:{type:r.default.STRING,allowNull:!1},region:{type:r.default.STRING,allowNull:!1},price:{type:r.default.INTEGER,allowNull:!1},bedrooms:{type:r.default.INTEGER,allowNull:!1},description:{type:r.default.STRING,allowNull:!1},images:{type:r.default.JSONB,allowNull:!1}},options:{defaultScope:{where:{deletedAt:null}},timestamps:!0,paranoid:!0,tableName:"properties"},relationships:function(e){e.property.prototype.toJSON=function(){return console.log("dataValues",this.dataValues),u.default.omit(this.dataValues,["deletedAt","updatedAt"])}}};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(1)),u=o(n(4));function o(e){return e&&e.__esModule?e:{default:e}}t.default=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fetchProperties=function(){return r.default.transaction(function(e){return u.default.fetchProperties({transaction:e}).then(function(e){return e})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,u=n(9),o=(r=u)&&r.__esModule?r:{default:r};t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,u=n(10),o=(r=u)&&r.__esModule?r:{default:r};t.default=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fetchProperties=function(e,t){return o.default.fetchProperties().then(function(e){var n=e.map(function(e){return e.toJSON()});t.json(n)}).catch(function(e){t.status(400).send(e)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,u=n(11),o=(r=u)&&r.__esModule?r:{default:r};t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(2)),u=o(n(12));function o(e){return e&&e.__esModule?e:{default:e}}var a=r.default.Router();a.get("/properties",u.default.fetchProperties),t.default=a},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("cors")},function(e,t){e.exports=require("cookie-parser")},function(e,t){e.exports=require("body-parser")},function(e,t,n){"use strict";var r=f(n(2)),u=f(n(17)),o=f(n(16)),a=f(n(15)),l=f(n(14)),i=f(n(13));function f(e){return e&&e.__esModule?e:{default:e}}var s=(0,r.default)();s.use((0,o.default)("secret")),s.use(u.default.json({limit:1e7})),s.use(u.default.urlencoded({extended:!0,limit:1e7})),s.use((0,a.default)()),s.use("/api",i.default),l.default.Server(s).listen("3000",function(){console.log("Listen on port 3000")})}]);